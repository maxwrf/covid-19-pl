{% extends "layout.html" %}
{% block content %}
<div class="content-section">
    <h1>Fitted model</h1>
    <p class='text-muted'>The data below is retrieved from wikipedia (DGS) and used to compute
        estimates for beta and gamma given the past pandemic development:
    </p>
    {% for table in tables %}
    {{titles[loop.index]}}
    {{ table|safe }}
    {% endfor %}
    <br>
    <br>
    <br>
    <h4 class="pt-6">Plotted and fitted SIR model for Portugal:</h4>
    <p class='text-muted'>The plot is generated by fitting beta and gamma to the data above, with
        resulting in the following parameters
    </p>
    <ul>
        <li>Beta: {{beta_fitted}} (fitted over past 50 days)</li>
        <li>Gamma: {{gamma_fitted}} (fitted over past 50 days)</li>
        <li>Population: 10.28m</li>
        <li>Time horizon: 60 days</li>
    </ul>
    <div class="img">
        <img class="img-fluid"
            src="{{ url_for('fitted_plot') }}?dummy={{time}}&beta_fitted={{beta_fitted}}&gamma_fitted={{gamma_fitted}}">
    </div>
    <ul>
        <li>For Portugal the SIR model does not seem to provide a good fit</li>
        <li>This is due to the fact that the number of infected people has not been growing exponentially<a
                href="https://en.wikipedia.org/wiki/2020_coronavirus_pandemic_in_Portugal"> see here</a></li>
        <li>The model could be adjusted for containment measures</li>
        <li>Note: Loss function for fit only minimizes error on infected people</li>
    </ul>
</div>


{% endblock content%}